# 计算机网络

> 计算机网络的核心是网络协议，详细规定了计算机之间如何连接和组网。理解了网络协议，就理解了互联网的原理。

## 网络协议概念

计算机网络协议是实现计算机之间数据通信的规则和标准。

协议核心要素包括：

- 通信数据和控制信息的结构和格式，例如 IP 地址、TCP 报文段结构。
- 通信双方控制信息、执行动作和相应类型，例如 HTTP 请求相应的格式。
- 数据传输时序问题，例如 TCP 的三次握手、确认机制。

### 分层模型

计算机网络的实现分为五层，每层都有自己的功能，通过定义互联网协议来实现具体的功能。

#### 应用层

我们能够直接接触到的就是应用层，用于规定应用程序的数据格式。

应用层不用关心数据如何传输，只需要专注于用户提供应用功能，例如 HTPP、FTP、Telnet、DNS 和 SMTP 等。

#### 传输层

同一台主机许多程序都用到网络，传输层通过**端口（port）**来区分数据包通过哪个程序下发的应用层数据包。

端口是 0 到 65535 之间的整数，传输层就是建立**端口到端口**的通信，只要确定主机和端口即可实现程序之间的交流。

- **套接字（Socket）**：主机+端口，详细可见[网络编程和套接字](./socket.md)。

传输层只有 UDP 协议和 TCP 协议。

##### UDP 协议

UDP 协议是最简单的传输层协议实现，只是将应用层数据前边加上端口号信息。

- 只负责发送数据包，不保证数据包能够发送到对端。
- 实时性更高，传输效率高。

##### TCP 协议

传输控制协议（Transmission Control Protocol）拥有很多特性，例如流量控制、超时重传、拥塞控制等，都是为了保证数据包能可靠传输到对端。

