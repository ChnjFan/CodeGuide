# 正则库的栈溢出问题

> 正则表达式是一种用来描述和匹配字符串的特定文本模式，用于查找、验证或替换特定规则的字符串，广泛用于数据验证、文本搜索、日志分析、编程语言的词法分析等领域。例如，正则表达式 `^a.*b$` 表示匹配以字母 'a' 开头、以字母 'b' 结尾的字符串。

## 问题场景

字符串正则匹配过程设备出现内存耗尽，导致设备重启。

搜索问题配置的正则表达式为“(abc)+”，即匹配包含一个或多个“abc”子串的字符串，恰好待匹配的字符串为“abc abc ... abc”一共 255 个“abc”重复的字符串。

## 问题分析

系统算法库中使用的正则匹配是多年前引入的开源库，已经无从追溯，问题出现后只能通过分析代码来查明原因。

正则表达式引擎主要分为两类：

- DFA（确定性有穷自动机）：
- NFA（非确定性有穷自动机）：

分析代码发现，正则匹配过程中在匹配到“(”、“)”、“+”和“*”时采用了递归方式调用执行。
